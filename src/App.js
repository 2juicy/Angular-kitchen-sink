var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
require('zone.js/dist/zone.min.js');
require("reflect-metadata");
require('twbs/bootstrap/css/bootstrap.css!');
require('./styles/style.css!');
var browser_1 = require('angular2/platform/browser');
var http_1 = require("angular2/http");
var App1_1 = require('../src/comps/app1/App1');
var App2_1 = require('../src/comps/app2/App2');
var App3_1 = require('../src/comps/app3/App3');
var core_1 = require('angular2/core');
var EntryPanel_1 = require('../src/comps/entry/EntryPanel');
var AppManager_1 = require('../src/comps/appmanager/AppManager');
var CommBroker_1 = require('../src/services/CommBroker');
var Filemenu_1 = require("../src/comps/filemenu/Filemenu");
var FilemenuItem_1 = require("../src/comps/filemenu/FilemenuItem");
var Logo_1 = require("./comps/logo/Logo");
var Footer_1 = require("./comps/footer/Footer");
var Conts_1 = require("../src/Conts");
var StyleService_1 = require("./styles/StyleService");
var router_1 = require('angular2/router');
var router_2 = require('angular2/router');
var angular2_redux_util_1 = require("angular2-redux-util");
var Lib_1 = require("./Lib");
var Observable_1 = require("rxjs/Observable");
require('rxjs/add/operator/map');
require('rxjs/add/operator/debounceTime');
require('rxjs/add/observable/fromEvent');
var parts_reducer_1 = require("./comps/app3/starwars/reducers/parts-reducer");
var cart_reducer_1 = require("./comps/app3/starwars/reducers/cart-reducer");
var films_reducer_1 = require("./comps/app3/starwars/reducers/films-reducer");
var users_reducer_1 = require("./comps/app3/starwars/reducers/users-reducer");
var NotifyReducer_1 = require("./reducers/NotifyReducer");
var AppdbReducer_1 = require("./reducers/AppdbReducer");
var TodoReducer_1 = require("./comps/app1/todos/reducers/TodoReducer");
var AppdbAction_1 = require("./actions/AppdbAction");
var Welcome_1 = require("./comps/welcome/Welcome");
var App = (function () {
    function App(appStore, commBroker, styleService, appdbAction) {
        var _this = this;
        this.appStore = appStore;
        this.commBroker = commBroker;
        this.appdbAction = appdbAction;
        appStore.dispatch(appdbAction.appStartTime());
        this.m_styleService = styleService;
        this.commBroker.setService(Conts_1.Consts.Services().App, this);
        Observable_1.Observable.fromEvent(window, 'resize').debounceTime(250).subscribe(function () {
            _this.appResized();
        });
    }
    App.prototype.appResized = function () {
        var appHeight = document.body.clientHeight;
        var appWidth = document.body.clientWidth;
        jQuery(Conts_1.Consts.Elems().APP_NAVIGATOR_EVER).height(appHeight - 115);
        jQuery(Conts_1.Consts.Elems().APP_NAVIGATOR_WASP).height(appHeight - 115);
        jQuery(Conts_1.Consts.Clas().CLASS_APP_HEIGHT).height(appHeight - 420);
        jQuery('#mainPanelWrap').height(appHeight - 115);
        jQuery('#propPanel').height(appHeight - 130);
        this.commBroker.setValue(Conts_1.Consts.Values().APP_SIZE, { height: appHeight, width: appWidth });
        this.commBroker.fire({
            fromInstance: self,
            event: Conts_1.Consts.Events().WIN_SIZED,
            context: '',
            message: { height: appHeight, width: appWidth }
        });
    };
    App = __decorate([
        core_1.Component({
            selector: 'app',
            encapsulation: core_1.ViewEncapsulation.Emulated,
            providers: [StyleService_1.StyleService, AppdbAction_1.AppdbAction],
            templateUrl: '/src/App.html',
            directives: [router_1.ROUTER_DIRECTIVES, router_2.RouterLink, Filemenu_1.Filemenu, FilemenuItem_1.FilemenuItem, Logo_1.Logo, Footer_1.Footer]
        }),
        router_2.RouteConfig([
            { path: "/", name: "root", redirectTo: ["/EntryPanelNoId/Login"], useAsDefault: true },
            { path: '/AppManager', component: AppManager_1.AppManager, as: 'AppManager' },
            { path: '/Welcome', component: Welcome_1.Welcome, as: 'Welcome' },
            { path: '/EntryPanelNoId/...', component: EntryPanel_1.EntryPanel, as: 'EntryPanelNoId' },
            { path: '/EntryPanel/:id/...', component: EntryPanel_1.EntryPanel, as: 'EntryPanel' },
            { path: '/Login/...', component: EntryPanel_1.EntryPanel, as: 'Login' },
            { path: '/ForgotPass/...', component: EntryPanel_1.EntryPanel, as: 'ForgotPass' },
            { path: '/App1/...', component: App1_1.App1, as: 'App1' },
            { path: '/App2', component: App2_1.App2, as: 'App2' },
            { path: '/App3', component: App3_1.App3, as: 'App3' },
        ]), 
        __metadata('design:paramtypes', [angular2_redux_util_1.AppStore, CommBroker_1.CommBroker, StyleService_1.StyleService, AppdbAction_1.AppdbAction])
    ], App);
    return App;
})();
exports.App = App;
browser_1.bootstrap(App, [router_1.ROUTER_PROVIDERS, http_1.HTTP_PROVIDERS, http_1.JSONP_PROVIDERS,
    core_1.provide(angular2_redux_util_1.AppStore, { useFactory: Lib_1.Lib.StoreFactory({ notify: NotifyReducer_1.default, appdb: AppdbReducer_1.default, parts: parts_reducer_1.default, cart: cart_reducer_1.default, films: films_reducer_1.default, users: users_reducer_1.default, todos: TodoReducer_1.todos }) }),
    core_1.provide(CommBroker_1.CommBroker, { useClass: CommBroker_1.CommBroker }),
    core_1.provide(Conts_1.Consts, { useClass: Conts_1.Consts }),
    core_1.provide(router_2.LocationStrategy, { useClass: router_2.HashLocationStrategy })]);
window['jQuery'] = require('jquery');
window['bootbox'] = require('bootbox');
window['_'] = require('underscore');
window['Highcharts'] = require('highcharts');
window['immutable'] = require('immutable');
require('bootstrap');

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC50cyJdLCJuYW1lcyI6WyJBcHAiLCJBcHAuY29uc3RydWN0b3IiLCJBcHAuYXBwUmVzaXplZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBR0EsUUFBTywwQkFBMEIsQ0FBQyxDQUFBO0FBQ2xDLFFBQU8sa0JBQWtCLENBQUMsQ0FBQTtBQUMxQixRQUFPLG1DQUFtQyxDQUFDLENBQUE7QUFDM0MsUUFBTyxxQkFBcUIsQ0FBQyxDQUFBO0FBQzdCLHdCQUF3QiwyQkFBMkIsQ0FBQyxDQUFBO0FBQ3BELHFCQUE4QyxlQUFlLENBQUMsQ0FBQTtBQUM5RCxxQkFBbUIsd0JBQXdCLENBQUMsQ0FBQTtBQUM1QyxxQkFBbUIsd0JBQXdCLENBQUMsQ0FBQTtBQUM1QyxxQkFBbUIsd0JBQXdCLENBQUMsQ0FBQTtBQUM1QyxxQkFBb0QsZUFBZSxDQUFDLENBQUE7QUFDcEUsMkJBQXlCLCtCQUErQixDQUFDLENBQUE7QUFDekQsMkJBQXlCLG9DQUFvQyxDQUFDLENBQUE7QUFDOUQsMkJBQXlCLDRCQUE0QixDQUFDLENBQUE7QUFDdEQseUJBQXVCLGdDQUFnQyxDQUFDLENBQUE7QUFDeEQsNkJBQTJCLG9DQUFvQyxDQUFDLENBQUE7QUFDaEUscUJBQW1CLG1CQUFtQixDQUFDLENBQUE7QUFDdkMsdUJBQXFCLHVCQUF1QixDQUFDLENBQUE7QUFDN0Msc0JBQXFCLGNBQWMsQ0FBQyxDQUFBO0FBQ3BDLDZCQUEyQix1QkFBdUIsQ0FBQyxDQUFBO0FBQ25ELHVCQUE4RCxpQkFBaUIsQ0FBQyxDQUFBO0FBQ2hGLHVCQUEyRixpQkFBaUIsQ0FBQyxDQUFBO0FBQzdHLG9DQUF1QixxQkFBcUIsQ0FBQyxDQUFBO0FBQzdDLG9CQUFrQixPQUFPLENBQUMsQ0FBQTtBQUMxQiwyQkFBeUIsaUJBQWlCLENBQUMsQ0FBQTtBQUMzQyxRQUFPLHVCQUF1QixDQUFDLENBQUE7QUFDL0IsUUFBTyxnQ0FBZ0MsQ0FBQyxDQUFBO0FBQ3hDLFFBQU8sK0JBQStCLENBQUMsQ0FBQTtBQUN2Qyw4QkFBa0IsOENBQ2xCLENBQUMsQ0FEK0Q7QUFDaEUsNkJBQWlCLDZDQUNqQixDQUFDLENBRDZEO0FBQzlELDhCQUFrQiw4Q0FDbEIsQ0FBQyxDQUQrRDtBQUNoRSw4QkFBa0IsOENBQ2xCLENBQUMsQ0FEK0Q7QUFDaEUsOEJBQW1CLDBCQUNuQixDQUFDLENBRDRDO0FBQzdDLDZCQUFrQix5QkFDbEIsQ0FBQyxDQUQwQztBQUMzQyw0QkFBb0IseUNBQ3BCLENBQUMsQ0FENEQ7QUFDN0QsNEJBQTBCLHVCQUF1QixDQUFDLENBQUE7QUFDbEQsd0JBQXNCLHlCQUF5QixDQUFDLENBQUE7QUFNaEQ7SUFpQ0lBLGFBQW9CQSxRQUFpQkEsRUFBVUEsVUFBcUJBLEVBQUVBLFlBQXlCQSxFQUFVQSxXQUF1QkE7UUFqQ3BJQyxpQkFpRUNBO1FBaEN1QkEsYUFBUUEsR0FBUkEsUUFBUUEsQ0FBU0E7UUFBVUEsZUFBVUEsR0FBVkEsVUFBVUEsQ0FBV0E7UUFBcUNBLGdCQUFXQSxHQUFYQSxXQUFXQSxDQUFZQTtRQUM1SEEsUUFBUUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsWUFBWUEsRUFBRUEsQ0FBQ0EsQ0FBQ0E7UUFDOUNBLElBQUlBLENBQUNBLGNBQWNBLEdBQUdBLFlBQVlBLENBQUNBO1FBQ25DQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxVQUFVQSxDQUFDQSxjQUFNQSxDQUFDQSxRQUFRQSxFQUFFQSxDQUFDQSxHQUFHQSxFQUFFQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUN4REEsdUJBQVVBLENBQUNBLFNBQVNBLENBQUNBLE1BQU1BLEVBQUVBLFFBQVFBLENBQUNBLENBQUNBLFlBQVlBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLFNBQVNBLENBQUNBO1lBQy9EQSxLQUFJQSxDQUFDQSxVQUFVQSxFQUFFQSxDQUFDQTtRQUN0QkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDUEEsQ0FBQ0E7SUFNTUQsd0JBQVVBLEdBQWpCQTtRQUNJRSxJQUFJQSxTQUFTQSxHQUFHQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQTtRQUMzQ0EsSUFBSUEsUUFBUUEsR0FBR0EsUUFBUUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0E7UUFFekNBLE1BQU1BLENBQUNBLGNBQU1BLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsU0FBU0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDbEVBLE1BQU1BLENBQUNBLGNBQU1BLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsU0FBU0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDbEVBLE1BQU1BLENBQUNBLGNBQU1BLENBQUNBLElBQUlBLEVBQUVBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsU0FBU0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDL0RBLE1BQU1BLENBQUNBLGdCQUFnQkEsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsU0FBU0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDakRBLE1BQU1BLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLFNBQVNBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBO1FBRTdDQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxRQUFRQSxDQUFDQSxjQUFNQSxDQUFDQSxNQUFNQSxFQUFFQSxDQUFDQSxRQUFRQSxFQUFFQSxFQUFDQSxNQUFNQSxFQUFFQSxTQUFTQSxFQUFFQSxLQUFLQSxFQUFFQSxRQUFRQSxFQUFDQSxDQUFDQSxDQUFDQTtRQUV6RkEsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7WUFDakJBLFlBQVlBLEVBQUVBLElBQUlBO1lBQ2xCQSxLQUFLQSxFQUFFQSxjQUFNQSxDQUFDQSxNQUFNQSxFQUFFQSxDQUFDQSxTQUFTQTtZQUNoQ0EsT0FBT0EsRUFBRUEsRUFBRUE7WUFDWEEsT0FBT0EsRUFBRUEsRUFBQ0EsTUFBTUEs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TUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNyQyxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ3ZDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDcEMsTUFBTSxDQUFDLFlBQVksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUM3QyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQzNDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyIsImZpbGUiOiJBcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2FwcC5kLnRzXCIvPlxyXG5cclxuLy9pbXBvcnQge2VuYWJsZVByb2RNb2RlfSBmcm9tICdhbmd1bGFyMi9jb3JlJztcclxuaW1wb3J0ICd6b25lLmpzL2Rpc3Qvem9uZS5taW4uanMnO1xyXG5pbXBvcnQgXCJyZWZsZWN0LW1ldGFkYXRhXCI7XHJcbmltcG9ydCAndHdicy9ib290c3RyYXAvY3NzL2Jvb3RzdHJhcC5jc3MhJztcclxuaW1wb3J0ICcuL3N0eWxlcy9zdHlsZS5jc3MhJztcclxuaW1wb3J0IHtib290c3RyYXB9IGZyb20gJ2FuZ3VsYXIyL3BsYXRmb3JtL2Jyb3dzZXInO1xyXG5pbXBvcnQge0hUVFBfUFJPVklERVJTLCBKU09OUF9QUk9WSURFUlN9IGZyb20gXCJhbmd1bGFyMi9odHRwXCI7XHJcbmltcG9ydCB7QXBwMX0gZnJvbSAnLi4vc3JjL2NvbXBzL2FwcDEvQXBwMSc7XHJcbmltcG9ydCB7QXBwMn0gZnJvbSAnLi4vc3JjL2NvbXBzL2FwcDIvQXBwMic7XHJcbmltcG9ydCB7QXBwM30gZnJvbSAnLi4vc3JjL2NvbXBzL2FwcDMvQXBwMyc7XHJcbmltcG9ydCB7Q29tcG9uZW50LCBwcm92aWRlLCBWaWV3RW5jYXBzdWxhdGlvbn0gZnJvbSAnYW5ndWxhcjIvY29yZSc7XHJcbmltcG9ydCB7RW50cnlQYW5lbH0gZnJvbSAnLi4vc3JjL2NvbXBzL2VudHJ5L0VudHJ5UGFuZWwnO1xyXG5pbXBvcnQge0FwcE1hbmFnZXJ9IGZyb20gJy4uL3NyYy9jb21wcy9hcHBtYW5hZ2VyL0FwcE1hbmFnZXInO1xyXG5pbXBvcnQge0NvbW1Ccm9rZXJ9IGZyb20gJy4uL3NyYy9zZXJ2aWNlcy9Db21tQnJva2VyJztcclxuaW1wb3J0IHtGaWxlbWVudX0gZnJvbSBcIi4uL3NyYy9jb21wcy9maWxlbWVudS9GaWxlbWVudVwiO1xyXG5pbXBvcnQge0ZpbGVtZW51SXRlbX0gZnJvbSBcIi4uL3NyYy9jb21wcy9maWxlbWVudS9GaWxlbWVudUl0ZW1cIjtcclxuaW1wb3J0IHtMb2dvfSBmcm9tIFwiLi9jb21wcy9sb2dvL0xvZ29cIjtcclxuaW1wb3J0IHtGb290ZXJ9IGZyb20gXCIuL2NvbXBzL2Zvb3Rlci9Gb290ZXJcIjtcclxuaW1wb3J0IHtDb25zdHN9IGZyb20gXCIuLi9zcmMvQ29udHNcIjtcclxuaW1wb3J0IHtTdHlsZVNlcnZpY2V9IGZyb20gXCIuL3N0eWxlcy9TdHlsZVNlcnZpY2VcIjtcclxuaW1wb3J0IHtST1VURVJfRElSRUNUSVZFUywgUk9VVEVSX1BST1ZJREVSUywgQXN5bmNSb3V0ZX0gZnJvbSAnYW5ndWxhcjIvcm91dGVyJztcclxuaW1wb3J0IHtMb2NhdGlvblN0cmF0ZWd5LCBSb3V0ZVBhcmFtcywgUm91dGVyTGluaywgSGFzaExvY2F0aW9uU3RyYXRlZ3ksIFJvdXRlQ29uZmlnfSBmcm9tICdhbmd1bGFyMi9yb3V0ZXInO1xyXG5pbXBvcnQge0FwcFN0b3JlfSBmcm9tIFwiYW5ndWxhcjItcmVkdXgtdXRpbFwiO1xyXG5pbXBvcnQge0xpYn0gZnJvbSBcIi4vTGliXCI7XHJcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSBcInJ4anMvT2JzZXJ2YWJsZVwiO1xyXG5pbXBvcnQgJ3J4anMvYWRkL29wZXJhdG9yL21hcCc7XHJcbmltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3IvZGVib3VuY2VUaW1lJztcclxuaW1wb3J0ICdyeGpzL2FkZC9vYnNlcnZhYmxlL2Zyb21FdmVudCc7XHJcbmltcG9ydCBwYXJ0cyBmcm9tIFwiLi9jb21wcy9hcHAzL3N0YXJ3YXJzL3JlZHVjZXJzL3BhcnRzLXJlZHVjZXJcIlxyXG5pbXBvcnQgY2FydCBmcm9tIFwiLi9jb21wcy9hcHAzL3N0YXJ3YXJzL3JlZHVjZXJzL2NhcnQtcmVkdWNlclwiXHJcbmltcG9ydCBmaWxtcyBmcm9tIFwiLi9jb21wcy9hcHAzL3N0YXJ3YXJzL3JlZHVjZXJzL2ZpbG1zLXJlZHVjZXJcIlxyXG5pbXBvcnQgdXNlcnMgZnJvbSBcIi4vY29tcHMvYXBwMy9zdGFyd2Fycy9yZWR1Y2Vycy91c2Vycy1yZWR1Y2VyXCJcclxuaW1wb3J0IG5vdGlmeSBmcm9tIFwiLi9yZWR1Y2Vycy9Ob3RpZnlSZWR1Y2VyXCJcclxuaW1wb3J0IGFwcGRiIGZyb20gXCIuL3JlZHVjZXJzL0FwcGRiUmVkdWNlclwiXHJcbmltcG9ydCB7dG9kb3N9IGZyb20gXCIuL2NvbXBzL2FwcDEvdG9kb3MvcmVkdWNlcnMvVG9kb1JlZHVjZXJcIlxyXG5pbXBvcnQge0FwcGRiQWN0aW9ufSBmcm9tIFwiLi9hY3Rpb25zL0FwcGRiQWN0aW9uXCI7XHJcbmltcG9ydCB7V2VsY29tZX0gZnJvbSBcIi4vY29tcHMvd2VsY29tZS9XZWxjb21lXCI7XHJcblxyXG4vKipcclxuIE1haW4gYXBwbGljYXRpb24gYm9vdHN0cmFwXHJcbiBAY2xhc3MgQXBwXHJcbiAqKi9cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2FwcCcsXHJcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5FbXVsYXRlZCxcclxuICAgIHByb3ZpZGVyczogW1N0eWxlU2VydmljZSwgQXBwZGJBY3Rpb25dLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcvc3JjL0FwcC5odG1sJyxcclxuICAgIGRpcmVjdGl2ZXM6IFtST1VURVJfRElSRUNUSVZFUywgUm91dGVyTGluaywgRmlsZW1lbnUsIEZpbGVtZW51SXRlbSwgTG9nbywgRm9vdGVyXVxyXG59KVxyXG5AUm91dGVDb25maWcoW1xyXG4gICAge3BhdGg6IFwiL1wiLCBuYW1lOiBcInJvb3RcIiwgcmVkaXJlY3RUbzogW1wiL0VudHJ5UGFuZWxOb0lkL0xvZ2luXCJdLCB1c2VBc0RlZmF1bHQ6IHRydWV9LFxyXG4gICAge3BhdGg6ICcvQXBwTWFuYWdlcicsIGNvbXBvbmVudDogQXBwTWFuYWdlciwgYXM6ICdBcHBNYW5hZ2VyJ30sXHJcbiAgICB7cGF0aDogJy9XZWxjb21lJywgY29tcG9uZW50OiBXZWxjb21lLCBhczogJ1dlbGNvbWUnfSxcclxuICAgIHtwYXRoOiAnL0VudHJ5UGFuZWxOb0lkLy4uLicsIGNvbXBvbmVudDogRW50cnlQYW5lbCwgYXM6ICdFbnRyeVBhbmVsTm9JZCd9LFxyXG4gICAge3BhdGg6ICcvRW50cnlQYW5lbC86aWQvLi4uJywgY29tcG9uZW50OiBFbnRyeVBhbmVsLCBhczogJ0VudHJ5UGFuZWwnfSxcclxuICAgIHtwYXRoOiAnL0xvZ2luLy4uLicsIGNvbXBvbmVudDogRW50cnlQYW5lbCwgYXM6ICdMb2dpbid9LFxyXG4gICAge3BhdGg6ICcvRm9yZ290UGFzcy8uLi4nLCBjb21wb25lbnQ6IEVudHJ5UGFuZWwsIGFzOiAnRm9yZ290UGFzcyd9LFxyXG4gICAge3BhdGg6ICcvQXBwMS8uLi4nLCBjb21wb25lbnQ6IEFwcDEsIGFzOiAnQXBwMSd9LFxyXG4gICAge3BhdGg6ICcvQXBwMicsIGNvbXBvbmVudDogQXBwMiwgYXM6ICdBcHAyJ30sXHJcbiAgICB7cGF0aDogJy9BcHAzJywgY29tcG9uZW50OiBBcHAzLCBhczogJ0FwcDMnfSxcclxuICAgIC8vbmV3IEFzeW5jUm91dGUoe1xyXG4gICAgLy8gICAgcGF0aDogJy9BcHAxJyxcclxuICAgIC8vICAgIGxvYWRlcjogKCkgPT4gTGliLkxvYWRDb21wb25lbnRBc3luYygnQXBwMScsICcuLi9jb21wcy9hcHAxL0FwcDEnKSxcclxuICAgIC8vICAgIG5hbWU6ICdBcHAxJ1xyXG4gICAgLy99KSwgLypzeXN0ZW1qcyovXHJcbiAgICAvL25ldyBBc3luY1JvdXRlKHtcclxuICAgIC8vICAgIHBhdGg6ICcvQXBwMicsXHJcbiAgICAvLyAgICBsb2FkZXI6ICgpID0+IExpYi5Mb2FkQ29tcG9uZW50QXN5bmMoJ0FwcDInLCAnLi4vY29tcHMvYXBwMi9BcHAyJyksXHJcbiAgICAvLyAgICBuYW1lOiAnQXBwMidcclxuICAgIC8vfSlcclxuXHJcbl0pXHJcbmV4cG9ydCBjbGFzcyBBcHAge1xyXG4gICAgcHJpdmF0ZSBtX3N0eWxlU2VydmljZTpTdHlsZVNlcnZpY2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBhcHBTdG9yZTpBcHBTdG9yZSwgcHJpdmF0ZSBjb21tQnJva2VyOkNvbW1Ccm9rZXIsIHN0eWxlU2VydmljZTpTdHlsZVNlcnZpY2UsIHByaXZhdGUgYXBwZGJBY3Rpb246QXBwZGJBY3Rpb24pIHtcclxuICAgICAgICBhcHBTdG9yZS5kaXNwYXRjaChhcHBkYkFjdGlvbi5hcHBTdGFydFRpbWUoKSk7XHJcbiAgICAgICAgdGhpcy5tX3N0eWxlU2VydmljZSA9IHN0eWxlU2VydmljZTtcclxuICAgICAgICB0aGlzLmNvbW1Ccm9rZXIuc2V0U2VydmljZShDb25zdHMuU2VydmljZXMoKS5BcHAsIHRoaXMpO1xyXG4gICAgICAgIE9ic2VydmFibGUuZnJvbUV2ZW50KHdpbmRvdywgJ3Jlc2l6ZScpLmRlYm91bmNlVGltZSgyNTApLnN1YnNjcmliZSgoKT0+IHtcclxuICAgICAgICAgICAgdGhpcy5hcHBSZXNpemVkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgT24gYXBwbGljYXRpb24gcmVzaXplIGRlYWwgd2l0aCBoZWlnaHQgY2hhbmdlc1xyXG4gICAgIEBtZXRob2QgYXBwUmVzaXplZFxyXG4gICAgICoqL1xyXG4gICAgcHVibGljIGFwcFJlc2l6ZWQoKTp2b2lkIHtcclxuICAgICAgICB2YXIgYXBwSGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgdmFyIGFwcFdpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdyZXNpemVkICcgKyBhcHBIZWlnaHQpO1xyXG4gICAgICAgIGpRdWVyeShDb25zdHMuRWxlbXMoKS5BUFBfTkFWSUdBVE9SX0VWRVIpLmhlaWdodChhcHBIZWlnaHQgLSAxMTUpO1xyXG4gICAgICAgIGpRdWVyeShDb25zdHMuRWxlbXMoKS5BUFBfTkFWSUdBVE9SX1dBU1ApLmhlaWdodChhcHBIZWlnaHQgLSAxMTUpO1xyXG4gICAgICAgIGpRdWVyeShDb25zdHMuQ2xhcygpLkNMQVNTX0FQUF9IRUlHSFQpLmhlaWdodChhcHBIZWlnaHQgLSA0MjApO1xyXG4gICAgICAgIGpRdWVyeSgnI21haW5QYW5lbFdyYXAnKS5oZWlnaHQoYXBwSGVpZ2h0IC0gMTE1KTtcclxuICAgICAgICBqUXVlcnkoJyNwcm9wUGFuZWwnKS5oZWlnaHQoYXBwSGVpZ2h0IC0gMTMwKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb21tQnJva2VyLnNldFZhbHVlKENvbnN0cy5WYWx1ZXMoKS5BUFBfU0laRSwge2hlaWdodDogYXBwSGVpZ2h0LCB3aWR0aDogYXBwV2lkdGh9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jb21tQnJva2VyLmZpcmUoe1xyXG4gICAgICAgICAgICBmcm9tSW5zdGFuY2U6IHNlbGYsXHJcbiAgICAgICAgICAgIGV2ZW50OiBDb25zdHMuRXZlbnRzKCkuV0lOX1NJWkVELFxyXG4gICAgICAgICAgICBjb250ZXh0OiAnJyxcclxuICAgICAgICAgICAgbWVzc2FnZToge2hlaWdodDogYXBwSGVpZ2h0LCB3aWR0aDogYXBwV2lkdGh9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuLy9lbmFibGVQcm9kTW9kZSgpO1xyXG5ib290c3RyYXAoQXBwLCBbUk9VVEVSX1BST1ZJREVSUywgSFRUUF9QUk9WSURFUlMsIEpTT05QX1BST1ZJREVSUyxcclxuICAgIHByb3ZpZGUoQXBwU3RvcmUsIHt1c2VGYWN0b3J5OiBMaWIuU3RvcmVGYWN0b3J5KHtub3RpZnksIGFwcGRiLCBwYXJ0cywgY2FydCwgZmlsbXMsIHVzZXJzLCB0b2Rvc30pfSksXHJcbiAgICBwcm92aWRlKENvbW1Ccm9rZXIsIHt1c2VDbGFzczogQ29tbUJyb2tlcn0pLFxyXG4gICAgcHJvdmlkZShDb25zdHMsIHt1c2VDbGFzczogQ29uc3RzfSksXHJcbiAgICBwcm92aWRlKExvY2F0aW9uU3RyYXRlZ3ksIHt1c2VDbGFzczogSGFzaExvY2F0aW9uU3RyYXRlZ3l9KV0pO1xyXG5cclxuXHJcbi8qKiBnbG9iYWwgbGlicmFyaWVzLCBjYW4ndCBsaXZlIHdpdGgnZW0gY2FuJ3Qgd2l0aCBsaXZlIHdpdGhvdXQnZW0gKiovXHJcbndpbmRvd1snalF1ZXJ5J10gPSByZXF1aXJlKCdqcXVlcnknKTtcclxud2luZG93Wydib290Ym94J10gPSByZXF1aXJlKCdib290Ym94Jyk7XHJcbndpbmRvd1snXyddID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xyXG53aW5kb3dbJ0hpZ2hjaGFydHMnXSA9IHJlcXVpcmUoJ2hpZ2hjaGFydHMnKTtcclxud2luZG93WydpbW11dGFibGUnXSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5yZXF1aXJlKCdib290c3RyYXAnKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
