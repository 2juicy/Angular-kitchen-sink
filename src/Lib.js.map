{"version":3,"file":"Lib.js","sourceRoot":"","sources":["Lib.ts"],"names":[],"mappings":"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","sourcesContent":["/** Common Library **/\r\n\r\nimport {\r\n    Injectable,\r\n    Component\r\n} from '@angular/core';\r\nimport {createStore, combineReducers, applyMiddleware, compose} from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {AppStore} from \"angular2-redux-util\";\r\nimport {LoggerMiddleware} from \"angular2-redux-util\";\r\n\r\n//import * as thunkMiddleware from 'redux-thunk';\r\n\r\n@Injectable()\r\nexport class Lib {\r\n\r\n    static StoreFactory(reducerList:Object) {\r\n        return () => {\r\n            const reducers = combineReducers(reducerList);\r\n            //const middlewareEnhancer = applyMiddleware(<any>thunkMiddleware, LoggerMiddleware); // to enable logger\r\n            const middlewareEnhancer = applyMiddleware(<any>thunkMiddleware);\r\n            const isDebug = window.devToolsExtension;\r\n            const applyDevTools = () => isDebug ? window.devToolsExtension() : f => f;\r\n            const enhancers = compose(middlewareEnhancer, applyDevTools());\r\n            const createStoreWithEnhancers = enhancers(createStore);\r\n            const reduxAppStore = createStoreWithEnhancers(reducers);\r\n            return new AppStore(reduxAppStore);\r\n        };\r\n    }\r\n\r\n    static DevMode():boolean {\r\n        if (window.location.href.indexOf('localhost') > -1) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    static GetCompSelector(i_constructor) {\r\n        if (!Lib.DevMode())\r\n            return;\r\n        var annotations = Reflect.getMetadata('annotations', i_constructor);\r\n        var componentMetadata = annotations.find(annotation => {\r\n            return (annotation instanceof Component);\r\n        });\r\n        return componentMetadata.selector;\r\n    }\r\n\r\n    static insertAt(immutable, item, index) {\r\n        let first = immutable.slice(0, index - 1).push(item)\r\n        let second = immutable.slice(index)\r\n        return first.conact(second);\r\n    }\r\n\r\n    static LoadComponentAsync(name:string, path:string) {\r\n\r\n        return System.import(path).then(c => c[name]);\r\n\r\n        // jspm bundle src/comps/app1/App1.js ./dist/public/main-bundle.js --skip-source-maps --inject\r\n\r\n        // bundles: {\r\n        //     \"main-bundle\": [\r\n        //         \"dist/public/App1\",\r\n        //         \"main-bundle/App1\",\r\n        //         \"dist/public/App1.ts\",\r\n        //         \"/dist/public/App1\",\r\n        //         \"App1\",\r\n        //         \"public/App1\",\r\n        //         \"dist/public/App1\",\r\n        //         \"src/comps/app1/App1.js\"\r\n        //     ]\r\n        // },\r\n\r\n        //return System.import('/dist/public/out.js')\r\n        //    .catch(function (e) {\r\n        //        alert('prob loading out.js ' + e);\r\n        //    }).then(function (e) {\r\n        //        alert(e);\r\n        //        alert(e[name]);\r\n        //        alert(JSON.stringify(e));\r\n        //        return System.import('App1').then(c => c[name]);\r\n        //    });\r\n    }\r\n\r\n    static log(msg) {\r\n        console.log(new Date().toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, \"$1\") + ': ' + msg);\r\n    }\r\n\r\n    static guid():string {\r\n        function s4() {\r\n            return Math.floor((1 + Math.random()) * 0x10000)\r\n                .toString(16)\r\n                .substring(1);\r\n        }\r\n\r\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n            s4() + '-' + s4() + s4() + s4();\r\n    }\r\n\r\n    static ReduxLoggerMiddleware = store => next => action => {\r\n        // console.log(\"dispatching\", action.type);\r\n        let result = next(action);\r\n        //console.log(\"next state\", store.getState());\r\n        return result\r\n    };\r\n\r\n    static Xml2Json() {\r\n        //https://github.com/metatribal/xmlToJSON\r\n        var xmlToJSON = (function () {\r\n\r\n            this.version = \"1.3\";\r\n\r\n            var options = { // set up the default options\r\n                mergeCDATA: true, // extract cdata and merge with text\r\n                grokAttr: true, // convert truthy attributes to boolean, etc\r\n                grokText: true, // convert truthy text/attr to boolean, etc\r\n                normalize: true, // collapse multiple spaces to single space\r\n                xmlns: true, // include namespaces as attribute in output\r\n                namespaceKey: '_ns', // tag name for namespace objects\r\n                textKey: '_text', // tag name for text nodes\r\n                valueKey: '_value', // tag name for attribute values\r\n                attrKey: '_attr', // tag for attr groups\r\n                cdataKey: '_cdata', // tag for cdata nodes (ignored if mergeCDATA is true)\r\n                attrsAsObject: true, // if false, key is used as prefix to name, set prefix to '' to merge children and attrs.\r\n                stripAttrPrefix: true, // remove namespace prefixes from attributes\r\n                stripElemPrefix: true, // for elements of same name in diff namespaces, you can enable namespaces and access the nskey property\r\n                childrenAsArray: true // force children into arrays\r\n            };\r\n\r\n            var prefixMatch:any = new RegExp('(?!xmlns)^.*:/');\r\n            var trimMatch:any = new RegExp('^\\s+|\\s+$g');\r\n\r\n            this.grokType = function (sValue) {\r\n                if (/^\\s*$/.test(sValue)) {\r\n                    return null;\r\n                }\r\n                if (/^(?:true|false)$/i.test(sValue)) {\r\n                    return sValue.toLowerCase() === \"true\";\r\n                }\r\n                if (isFinite(sValue)) {\r\n                    return parseFloat(sValue);\r\n                }\r\n                return sValue;\r\n            };\r\n\r\n            this.parseString = function (xmlString, opt) {\r\n                return this.parseXML(this.stringToXML(xmlString), opt);\r\n            }\r\n\r\n            this.parseXML = function (oXMLParent, opt) {\r\n\r\n                // initialize options\r\n                for (var key in opt) {\r\n                    options[key] = opt[key];\r\n                }\r\n\r\n                var vResult = {},\r\n                    nLength = 0,\r\n                    sCollectedTxt = \"\";\r\n\r\n                // parse namespace information\r\n                if (options.xmlns && oXMLParent.namespaceURI) {\r\n                    vResult[options.namespaceKey] = oXMLParent.namespaceURI;\r\n                }\r\n\r\n                // parse attributes\r\n                // using attributes property instead of hasAttributes method to support older browsers\r\n                if (oXMLParent.attributes && oXMLParent.attributes.length > 0) {\r\n                    var vAttribs = {};\r\n\r\n                    for (nLength; nLength < oXMLParent.attributes.length; nLength++) {\r\n                        var oAttrib = oXMLParent.attributes.item(nLength);\r\n                        vContent = {};\r\n                        var attribName = '';\r\n\r\n                        if (options.stripAttrPrefix) {\r\n                            attribName = oAttrib.name.replace(prefixMatch, '');\r\n\r\n                        } else {\r\n                            attribName = oAttrib.name;\r\n                        }\r\n\r\n                        if (options.grokAttr) {\r\n                            vContent[options.valueKey] = this.grokType(oAttrib.value.replace(trimMatch, ''));\r\n                        } else {\r\n                            vContent[options.valueKey] = oAttrib.value.replace(trimMatch, '');\r\n                        }\r\n\r\n                        if (options.xmlns && oAttrib.namespaceURI) {\r\n                            vContent[options.namespaceKey] = oAttrib.namespaceURI;\r\n                        }\r\n\r\n                        if (options.attrsAsObject) { // attributes with same local name must enable prefixes\r\n                            vAttribs[attribName] = vContent;\r\n                        } else {\r\n                            vResult[options.attrKey + attribName] = vContent;\r\n                        }\r\n                    }\r\n\r\n                    if (options.attrsAsObject) {\r\n                        vResult[options.attrKey] = vAttribs;\r\n                    } else {\r\n                    }\r\n                }\r\n\r\n                // iterate over the children\r\n                if (oXMLParent.hasChildNodes()) {\r\n                    for (var oNode, sProp, vContent, nItem = 0; nItem < oXMLParent.childNodes.length; nItem++) {\r\n                        oNode = oXMLParent.childNodes.item(nItem);\r\n\r\n                        if (oNode.nodeType === 4) {\r\n                            if (options.mergeCDATA) {\r\n                                sCollectedTxt += oNode.nodeValue;\r\n                            } else {\r\n                                if (vResult.hasOwnProperty(options.cdataKey)) {\r\n                                    if (vResult[options.cdataKey].constructor !== Array) {\r\n                                        vResult[options.cdataKey] = [vResult[options.cdataKey]];\r\n                                    }\r\n                                    vResult[options.cdataKey].push(oNode.nodeValue);\r\n\r\n                                } else {\r\n                                    if (options.childrenAsArray) {\r\n                                        vResult[options.cdataKey] = [];\r\n                                        vResult[options.cdataKey].push(oNode.nodeValue);\r\n                                    } else {\r\n                                        vResult[options.cdataKey] = oNode.nodeValue;\r\n                                    }\r\n                                }\r\n                            }\r\n                        } /* nodeType is \"CDATASection\" (4) */\r\n                        else if (oNode.nodeType === 3) {\r\n                            sCollectedTxt += oNode.nodeValue;\r\n                        } /* nodeType is \"Text\" (3) */\r\n                        else if (oNode.nodeType === 1) { /* nodeType is \"Element\" (1) */\r\n\r\n                            if (nLength === 0) {\r\n                                vResult = {};\r\n                            }\r\n\r\n                            // using nodeName to support browser (IE) implementation with no 'localName' property\r\n                            if (options.stripElemPrefix) {\r\n                                sProp = oNode.nodeName.replace(prefixMatch, '');\r\n                            } else {\r\n                                sProp = oNode.nodeName;\r\n                            }\r\n\r\n                            vContent = xmlToJSON.parseXML(oNode);\r\n\r\n                            if (vResult.hasOwnProperty(sProp)) {\r\n                                if (vResult[sProp].constructor !== Array) {\r\n                                    vResult[sProp] = [vResult[sProp]];\r\n                                }\r\n                                vResult[sProp].push(vContent);\r\n\r\n                            } else {\r\n                                if (options.childrenAsArray) {\r\n                                    vResult[sProp] = [];\r\n                                    vResult[sProp].push(vContent);\r\n                                } else {\r\n                                    vResult[sProp] = vContent;\r\n                                }\r\n                                nLength++;\r\n                            }\r\n                        }\r\n                    }\r\n                } else if (!sCollectedTxt) { // no children and no text, return null\r\n                    if (options.childrenAsArray) {\r\n                        vResult[options.textKey] = [];\r\n                        vResult[options.textKey].push(null);\r\n                    } else {\r\n                        vResult[options.textKey] = null;\r\n                    }\r\n                }\r\n\r\n                if (sCollectedTxt) {\r\n                    if (options.grokText) {\r\n                        var value = this.grokType(sCollectedTxt.replace(trimMatch, ''));\r\n                        if (value !== null && value !== undefined) {\r\n                            vResult[options.textKey] = value;\r\n                        }\r\n                    } else if (options.normalize) {\r\n                        vResult[options.textKey] = sCollectedTxt.replace(trimMatch, '').replace(/\\s+/g, \" \");\r\n                    } else {\r\n                        vResult[options.textKey] = sCollectedTxt.replace(trimMatch, '');\r\n                    }\r\n                }\r\n\r\n                return vResult;\r\n            }\r\n\r\n\r\n            // Convert xmlDocument to a string\r\n            // Returns null on failure\r\n            this.xmlToString = function (xmlDoc) {\r\n                try {\r\n                    var xmlString = xmlDoc.xml ? xmlDoc.xml : (new XMLSerializer()).serializeToString(xmlDoc);\r\n                    return xmlString;\r\n                } catch (err) {\r\n                    return null;\r\n                }\r\n            }\r\n\r\n            // Convert a string to XML Node Structure\r\n            // Returns null on failure\r\n            this.stringToXML = function (xmlString) {\r\n                try {\r\n                    var xmlDoc = null;\r\n\r\n                    if (window.DOMParser) {\r\n\r\n                        var parser = new DOMParser();\r\n                        xmlDoc = parser.parseFromString(xmlString, \"text/xml\");\r\n\r\n                        return xmlDoc;\r\n                    } else {\r\n                        xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\r\n                        xmlDoc.async = false;\r\n                        xmlDoc.loadXML(xmlString);\r\n\r\n                        return xmlDoc;\r\n                    }\r\n                } catch (e) {\r\n                    return null;\r\n                }\r\n            }\r\n\r\n            return this;\r\n        }).call({});\r\n        return xmlToJSON;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n/* tslint:disable */\r\n// polyfill for Object.assign (not part of TS yet)\r\n// https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\r\nif (!Object.assign) {\r\n    Object.defineProperty(Object, \"assign\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            \"use strict\";\r\n            if (target === undefined || target === null) {\r\n                throw new TypeError(\"Cannot convert first argument to object\");\r\n            }\r\n\r\n            var to = Object(target);\r\n            for (var i = 1; i < arguments.length; i++) {\r\n                var nextSource = arguments[i];\r\n                if (nextSource === undefined || nextSource === null) {\r\n                    continue;\r\n                }\r\n                nextSource = Object(nextSource);\r\n\r\n                var keysArray = Object.keys(nextSource);\r\n                for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\r\n                    var nextKey = keysArray[nextIndex];\r\n                    var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\r\n                    if (desc !== undefined && desc.enumerable) {\r\n                        to[nextKey] = nextSource[nextKey];\r\n                    }\r\n                }\r\n            }\r\n            return to;\r\n        }\r\n    });\r\n}"]}