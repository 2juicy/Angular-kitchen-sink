{"version":3,"file":"Menu.js","sourceRoot":"","sources":["Menu.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;YA2BA;gBAKI,cAAY,UAAqB;oBAC7B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;oBACtB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;oBAClB,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC;oBAC/B,IAAI,CAAC,eAAe,EAAE,CAAC;gBAE3B,CAAC;gBAEO,8BAAe,GAAvB;oBAAA,iBASC;oBARG,IAAI,IAAI,GAAG,IAAI,CAAC;oBAChB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,cAAM,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,UAAC,CAAU;wBACtE,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,cAAM,CAAC,MAAM,EAAE,CAAC,kBAAkB,CAAC,CAAA,CAAC;4BACtD,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;wBACzB,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;wBAC1B,CAAC;oBACL,CAAC,CAAC,CAAC;gBACP,CAAC;gBAEO,iCAAkB,GAA1B,UAA2B,KAAK;oBAC5B,IAAI,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,iBAAiB,EAAE,IAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;oBACjK,KAAK,CAAC,cAAc,EAAE,CAAC;oBACvB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;wBACnB,YAAY,EAAE,IAAI;wBAClB,KAAK,EAAE,cAAM,CAAC,MAAM,EAAE,CAAC,cAAc;wBACrC,OAAO,EAAE,IAAI;wBACb,OAAO,EAAE,IAAI;qBAChB,CAAC,CAAC;oBACH,MAAM,CAAC,KAAK,CAAC;gBACjB,CAAC;gBAEM,0BAAW,GAAlB,UAAmB,MAAe;oBAC9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAC9B,CAAC;gBAzDL;oBAAC,gBAAS,CAAC;wBACP,QAAQ,EAAE,MAAM;wBAChB,MAAM,EAAE,CAAC,yBAAyB,CAAC;wBACnC,MAAM,EAAE,CAAC,yDAIV,CAAC;wBACA,QAAQ,EAAE,ocAQT;qBACJ,CAAC;;wBAAA;gBAyCF,WAAC;YAAD,CAAC,AAvCD,IAuCC;YAvCD,uBAuCC,CAAA","sourcesContent":["///<reference path=\"../../../typings/app.d.ts\"/>\r\n\r\nimport {Component, Injectable} from \"@angular/core\";\r\nimport {MenuItem} from \"./MenuItem\";\r\nimport {CommBroker} from \"../../services/CommBroker\";\r\nimport {Consts} from \"../../Conts\";\r\nimport {IMessage} from \"../../services/CommBroker\";\r\n\r\n@Component({\r\n    selector: 'Menu',\r\n    inputs: ['fontAwesome:fontAwesome'],\r\n    styles: [`\r\n    .appMenu {\r\n      background: #3e3f48;\r\n    }\r\n  `],\r\n    template: `\r\n        <section id=\"appNavigatorWasp\" (click)=\"listenMenuSelected($event)\" class=\"appMenu hidden-xs hidden-sm hidden-md col-lg-1\">\r\n         <li *ngFor=\"let item of m_items\" data-ripple-color=\"white\" class=\"btn btn-default list-group-item\">\r\n            <i class=\"navicons fa {{item.localFontAwesome}}\" [hidden]=\"m_hidden\">\r\n            </i>\r\n            <span>{{item.localTabTitle}}</span>\r\n          </li>\r\n      </section>\r\n    `\r\n})\r\n\r\nexport class Menu {\r\n    private m_items:MenuItem[];\r\n    private m_commBroker:CommBroker;\r\n    private m_hidden:boolean;\r\n\r\n    constructor(commBroker:CommBroker) {\r\n        this.m_hidden = false;\r\n        this.m_items = [];\r\n        this.m_commBroker = commBroker;\r\n        this.listenWinResize();\r\n\r\n    }\r\n\r\n    private listenWinResize() {\r\n        var self = this;\r\n        self.m_commBroker.onEvent(Consts.Events().WIN_SIZED).subscribe((e:IMessage)=> {\r\n            if (e.message.width < Consts.Values().MENU_MIN_ICON_SHOW){\r\n                this.m_hidden = true;\r\n            } else {\r\n                this.m_hidden = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    private listenMenuSelected(event) {\r\n        var text = event.target.nodeName.toLocaleLowerCase() == 'li' ? jQuery(event.target).find('span').text() : jQuery(event.target).closest('li').find('span').text();\r\n        event.preventDefault();\r\n        this.m_commBroker.fire({\r\n            fromInstance: self,\r\n            event: Consts.Events().MENU_SELECTION,\r\n            context: null,\r\n            message: text\r\n        });\r\n        return false;\r\n    }\r\n\r\n    public addMenuItem(i_item:MenuItem):void {\r\n        this.m_items.push(i_item);\r\n    }\r\n}\r\n"]}