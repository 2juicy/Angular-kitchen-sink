{"version":3,"file":"parts-view.js","sourceRoot":"","sources":["parts-view.ts"],"names":[],"mappings":";;;;;;;;;;;;;QAMM,yBAAyB;;;;;;;;;;YAAzB,yBAAyB,GAAG,yBAAc,CAAC,UAAC,YAAgB,IAAK,OAAA,YAAY,CAAC,WAAW,CAAC,YAAY,EAArC,CAAqC,EACxG,UAAC,WAAe;gBACZ,IAAI,GAAG,GAAG,WAAW,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,IAAQ,IAAK,OAAA,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,EAA5B,CAA4B,EAAE,EAAE,CAAC,CAAC;gBAClF,MAAM,CAAC,GAAG,CAAC;YACf,CAAC,CAAC,CAAC;YAmBP;gBAAA;oBAEI,UAAK,GAAG,EAAE,CAAC;oBAEX,gBAAW,GAAG,EAAE,CAAC;oBACjB,sBAAiB,GAAG,EAAE,CAAC;oBAGvB,cAAS,GAAqB,IAAI,mBAAY,EAAE,CAAC;gBAMrD,CAAC;gBAJG,+BAAW,GAAX,UAAY,YAA+C;oBACvD,IAAI,CAAC,iBAAiB,GAAG,yBAAyB,CAAC,YAAY,CAAC,CAAC;gBACrE,CAAC;gBAXD;oBAAC,YAAK,EAAE;;wDAAA;gBAER;oBAAC,YAAK,EAAE;;8DAAA;gBAIR;oBAAC,aAAM,EAAE;;4DAAA;gBAxBb;oBAAC,gBAAS,CAAC;wBACP,QAAQ,EAAE,OAAO;wBACjB,QAAQ,EAAE,+bAYT;wBACD,eAAe,EAAE,8BAAuB,CAAC,MAAM;qBAClD,CAAC;;6BAAA;gBAeF,gBAAC;YAAD,CAAC,AAdD,IAcC;YAdD,iCAcC,CAAA","sourcesContent":["///<reference path=\"../../../../../typings/app.d.ts\"/>\r\n\r\nimport {Component, Input, Output, EventEmitter, ChangeDetectionStrategy, OnChanges, SimpleChange} from '@angular/core'\r\n\r\nimport {createSelector} from 'reselect';\r\n\r\nconst partsInCartLookupSelector = createSelector((changeRecord:any) => changeRecord.partsInCart.currentValue,\r\n    (partsInCart:any) => {\r\n        var red = partsInCart.reduce((map, part:any) => (map[part.id] = true) && map, {});\r\n        return red;\r\n    });\r\n\r\n@Component({\r\n    selector: 'parts',\r\n    template: `\r\n        <table>\r\n            <tr *ngFor=\"let part of parts\">\r\n                <td>\r\n                    <button style=\"margin-right:10px;margin-bottom:3px;margin-top:3px\"\r\n                        [disabled]=\"partsInCartLookup[part.id]\"\r\n                        (click)=\"addToCart.emit(part.id)\">add\r\n                    </button>\r\n                </td>\r\n                <td>{{part.name}}</td>\r\n            </tr>\r\n        </table>\r\n    `,\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class PartsView implements OnChanges {\r\n    @Input()\r\n    parts = [];\r\n    @Input()\r\n    partsInCart = [];\r\n    partsInCartLookup = {};\r\n\r\n    @Output()\r\n    addToCart:EventEmitter<any> = new EventEmitter();\r\n\r\n    ngOnChanges(changeRecord:{[propName: string]: SimpleChange}) {\r\n        this.partsInCartLookup = partsInCartLookupSelector(changeRecord);\r\n    }\r\n\r\n}\r\n\r\n"]}