{"version":3,"file":"TodoReducer.js","sourceRoot":"","sources":["TodoReducer.ts"],"names":[],"mappings":";;;;IAaA,eAAsB,KAAyC,EAAE,MAAkB;QAA7D,qBAAyC,GAAzC,QAAwB,gBAAI,EAAa;QAE3D,iBAAiB,EAAS;YACtB,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,UAAC,CAAW,IAAK,OAAA,CAAC,CAAC,UAAU,EAAE,KAAK,EAAE,EAArB,CAAqB,CAAC,CAAC;QACnE,CAAC;QAED,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;YAClB,KAAK,WAAW,CAAC,QAAQ;gBACrB,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YACxC,KAAK,WAAW,CAAC,WAAW;gBACxB,MAAM,CAAC,gBAAI,CAAY,KAAK,CAAC,MAAM,CAAC,UAAC,CAAW,IAAK,OAAA,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,MAAM,CAAC,OAAO,EAAtC,CAAsC,CAAC,CAAC,CAAC;YAClG,KAAK,WAAW,CAAC,WAAW;gBACxB,MAAM,CAAC,gBAAI,EAAa,CAAC;YAC7B,KAAK,WAAW,CAAC,SAAS;gBACtB,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,UAAC,SAAmB;oBAC7D,MAAM,CAAC,SAAS,CAAC,MAAM,CAAY,qBAAS,EAAE,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,CAAA;gBAC3E,CAAC,CAAC,CAAC;YACP;gBACI,MAAM,CAAC,KAAK,CAAC;QACrB,CAAC;IACL,CAAC;IApBD,yBAoBC,CAAA","sourcesContent":["import {List} from 'immutable';\r\nimport * as TodoService from \"../TodoService\";\r\nimport {TodoModel} from \"../TodoModel\";\r\n\r\nexport interface ITodoAction {\r\n    type: string;\r\n    todoModel: TodoModel;\r\n    modelId?: string,\r\n    key?: string,\r\n    value: any\r\n\r\n}\r\n\r\nexport function todos(state:List<TodoModel> = List<TodoModel>(), action:ITodoAction):List<TodoModel> {\r\n\r\n    function indexOf(id:string) {\r\n        return state.findIndex((i:TodoModel) => i.getModelId() === id);\r\n    }\r\n\r\n    switch (action.type) {\r\n        case TodoService.ADD_TODO:\r\n            return state.push(action.todoModel);\r\n        case TodoService.REMOVE_TODO:\r\n            return List<TodoModel>(state.filter((i:TodoModel) => i.getKey('modelId') !== action.modelId));\r\n        case TodoService.CLEAR_TODOS:\r\n            return List<TodoModel>();\r\n        case TodoService.EDIT_TODO:\r\n            return state.update(indexOf(action.modelId), (todoModel:TodoModel) => {\r\n                return todoModel.setKey<TodoModel>(TodoModel, action.key, action.value)\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n}"]}